<div class="loader-container" *ngIf="isLoading"><div class="loader"></div></div>
<div class="container details-page__wrapper shadow-lg rounded-3 mt-5">
  <div class="row justify-content-center position-relative">
    <label for='picture' class="position-absolute picture-upload">
      <div class="card-profile-image position-relative" style='cursor: pointer;'>
        <img src="{{(imageUrl)? imageUrl: '../../assets/images/user-default-profile.png'}}" class="rounded-circle">
        <i class="bi bi-cloud-upload fs-2 position-absolute upload-img-icon"></i>
      </div>
    </label>
    <form style='display: none;'>
        <input type="file" name="pic" accept=".gif,.jpg, .jpeg, .png,.tif|image/*" id='picture' (change)="uploadImageFile($event)">
        <input type="submit">
    </form>
  </div>
  <div class="row card bg-secondary shadow" [class.dark-mode-add-card-color]="isDarkMode">
    <div class="card-header bg-white border-0">
      <div class="row align-items-center">
        <div class="col-8">
          <h3 class="mb-0">My account</h3>
        </div>
      </div>
    </div>
    <div class="card-body" [class.dark-mode-card-color]="isDarkMode">
      <form #profileForm="ngForm">
        <h6 class="heading-small text-muted mb-4" [class.font-contrast-color]="isDarkMode">User information</h6>
        <div class="pl-lg-4">
          <div class="row">
            <div class="col-lg-6">
              <div class="form-group focused">
                <label class="form-control-label" for="input-username" [class.font-contrast-color]="isDarkMode">Username</label>
                <input [(ngModel)]="username" name="username" ngModel type="text" id="input-username" class="form-control form-control-alternative" placeholder="{{(username)? username: 'Type your username'}}" [disabled]="!edit">
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group">
                <label class="form-control-label" for="input-email" [class.font-contrast-color]="isDarkMode">Email address</label>
                <input type="email" id="input-email" class="form-control form-control-alternative" placeholder="{{email}}" disabled>
              </div>
            </div>
          </div>
        </div>
      </form>
      <button *ngIf="!edit" type="button" class="btn btn-info btn-lg position-absolute bottom-0 end-0 mb-2 me-2 edit-btn" (click)="enableEdit()">Edit</button>
    <button *ngIf="edit" type="button" class="btn btn-success btn-lg position-absolute bottom-0 end-0 mb-2 me-2 edit-btn" (click)="updateUsername()">Save</button>
    </div>
  </div>
</div>